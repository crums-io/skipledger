<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (15) on Wed Apr 28 00:41:02 MDT 2021 -->
<title>ProtoFlatLedger (SkipLedger 0.0.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-04-28">
<meta name="description" content="declaration: package: io.crums.sldg.db.flat, class: ProtoFlatLedger">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ProtoFlatLedger.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.crums.sldg.db.flat</a></div>
<h1 title="Class ProtoFlatLedger" class="title">Class ProtoFlatLedger</h1>
</div>
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">io.crums.sldg.db.flat.ProtoFlatLedger</div>
</div>
<section class="description">
<hr>
<pre>public class <span class="type-name-label">ProtoFlatLedger</span>
extends java.lang.Object</pre>
<div class="block"><p>Ideas left over from prototyping (Take 1). The reason why I want to
 keep this around (yes, it could be accessed from history) is so I
 don't forget that for double the disk space, I can really speed up
 serving ledger parts this way. Plus, I/O is cheaper than compute
 (hash computation is hot), so this might be something to consider.</p>
 
 <p>Note for maximum efficiency, the code below needs to be modified:
 it needs one additional cell that would store the row's hash.</p></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div class="member-summary" id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="active-table-tab">All Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="table-tab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="table-tab" onclick="show(8);">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<table class="summary-table" aria-labelledby="t0">
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Method</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color" id="i0">
<td class="col-first"><code>static long</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#cellNumber(long)">cellNumber</a></span>&#8203;(long&nbsp;rowNumber)</code></th>
<td class="col-last">
<div class="block">Returns the starting cell number of the given row number.</div>
</td>
</tr>
<tr class="row-color" id="i1">
<td class="col-first"><code>static void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#checkRealRowNumber(long)">checkRealRowNumber</a></span>&#8203;(long&nbsp;rowNumber)</code></th>
<td class="col-last">
<div class="block">Throws an <tt>IllegalArgumentException</tt> if the given row number is not &ge; 1.</div>
</td>
</tr>
<tr class="alt-color" id="i2">
<td class="col-first"><code>static java.util.SortedSet&lt;java.lang.Long&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#coverage(java.util.Collection)">coverage</a></span>&#8203;(java.util.Collection&lt;java.lang.Long&gt;&nbsp;rowNumbers)</code></th>
<td class="col-last">
<div class="block">Returns the rows <em>covered</em> by the given row numbers.</div>
</td>
</tr>
<tr class="row-color" id="i3">
<td class="col-first"><code>static long</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#maxRows(long)">maxRows</a></span>&#8203;(long&nbsp;cells)</code></th>
<td class="col-last">
<div class="block">Returns the maximum number of rows that can be fitted in a ledger with the given number
 of cells.</div>
</td>
</tr>
<tr class="alt-color" id="i4">
<td class="col-first"><code>static int</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#rowCells(long)">rowCells</a></span>&#8203;(long&nbsp;rowNumber)</code></th>
<td class="col-last">
<div class="block">Returns the number of cells for the given row number.</div>
</td>
</tr>
<tr class="row-color" id="i5">
<td class="col-first"><code>static int</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#skipCount(long)">skipCount</a></span>&#8203;(long&nbsp;rowNumber)</code></th>
<td class="col-last">
<div class="block">Returns the number of skip pointers at the given row number.</div>
</td>
</tr>
<tr class="alt-color" id="i6">
<td class="col-first"><code>static java.util.SortedSet&lt;java.lang.Long&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#skipPathCoverage(long,long)">skipPathCoverage</a></span>&#8203;(long&nbsp;lo,
long&nbsp;hi)</code></th>
<td class="col-last">
<div class="block">Returns the rows <em>covered</em> by the specified</div>
</td>
</tr>
<tr class="row-color" id="i7">
<td class="col-first"><code>static java.util.List&lt;java.lang.Long&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#skipPathNumbers(long,long)">skipPathNumbers</a></span>&#8203;(long&nbsp;lo,
long&nbsp;hi)</code></th>
<td class="col-last">
<div class="block">Returns the structural path from a lower
 (older) row number to a higher (more recent) row number in a ledger.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="cellNumber(long)">
<h3>cellNumber</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="member-name">cellNumber</span>&#8203;(<span class="parameters">long&nbsp;rowNumber)</span></div>
<div class="block">Returns the starting cell number of the given row number. This is just the
 number of existing cells before the specified row.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rowNumber</code> - postive number (&gt; 0)</dd>
<dt>Returns:</dt>
<dd>a non-negative number (&ge; 0) and &le; <tt>2 * rowNumber - 1</tt></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="skipCount(long)">
<h3>skipCount</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="member-name">skipCount</span>&#8203;(<span class="parameters">long&nbsp;rowNumber)</span></div>
<div class="block"><p>Returns the number of skip pointers at the given row number. The
 returned number is one plus the <em>exponent</em> in the highest power of 2 that is
 a factor of the row number. For odd row numbers, this is always 1 (since the highest
 factor here is 2<sup><small>0</small></sup>).</p>
 
 <h3>Strict Law of Averages</h3>
 
 <p>The <em>average</em> number of skip pointers is <em>always</em> less than 2.
 Equivalently, the total number of skip pointers up to (and including) a given row
 number, is always less than twice the row number.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rowNumber</code> - &gt; 0</dd>
<dt>Returns:</dt>
<dd>&ge; 1 (with average value of 2)</dd>
<dt>See Also:</dt>
<dd><a href="#maxRows(long)"><code>maxRows(long)</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="rowCells(long)">
<h3>rowCells</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="member-name">rowCells</span>&#8203;(<span class="parameters">long&nbsp;rowNumber)</span></div>
<div class="block">Returns the number of cells for the given row number. This is just
 one more than <a href="#skipCount(long)">skipCount(long)</a></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rowNumber</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="skipPathCoverage(long,long)">
<h3>skipPathCoverage</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">java.util.SortedSet&lt;java.lang.Long&gt;</span>&nbsp;<span class="member-name">skipPathCoverage</span>&#8203;(<span class="parameters">long&nbsp;lo,
long&nbsp;hi)</span></div>
<div class="block">Returns the rows <em>covered</em> by the specified</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>lo</code> - </dd>
<dd><code>hi</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="coverage(java.util.Collection)">
<h3>coverage</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">java.util.SortedSet&lt;java.lang.Long&gt;</span>&nbsp;<span class="member-name">coverage</span>&#8203;(<span class="parameters">java.util.Collection&lt;java.lang.Long&gt;&nbsp;rowNumbers)</span></div>
<div class="block">Returns the rows <em>covered</em> by the given row numbers. The returned
 ordered set contains both the given row numbers and the row numbers referenced
 in the rows at those row numbers. Altho its size is sensitive to its inputs,
 the returned list never blows up: it's size may grow at most by a factor that
 is no greater than the base 2 log of the highest row number in its input.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rowNumbers</code> - non-empty bag of positive (&ge; 1) numbers,
        in whatever order, dups OK</dd>
<dt>Returns:</dt>
<dd>non-empty set of row</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="skipPathNumbers(long,long)">
<h3>skipPathNumbers</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">java.util.List&lt;java.lang.Long&gt;</span>&nbsp;<span class="member-name">skipPathNumbers</span>&#8203;(<span class="parameters">long&nbsp;lo,
long&nbsp;hi)</span></div>
<div class="block">Returns the structural path from a lower
 (older) row number to a higher (more recent) row number in a ledger.
 This is just the shortest structural path following the hash pointers in each
 row from the <tt>hi</tt> row number to the <tt>lo</tt> one. The returned list
 however is returned in reverse order, in keeping with the temporal order of
 ledgers.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>hi</code> - row number &ge; <tt>lo</tt></dd>
<dd><code>lo</code> - row number &gt; 0</dd>
<dt>Returns:</dt>
<dd>a monotonically ascending list of numbers from <tt>lo</tt> to </tt>hi</tt>,
         inclusive</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkRealRowNumber(long)">
<h3>checkRealRowNumber</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">checkRealRowNumber</span>&#8203;(<span class="parameters">long&nbsp;rowNumber)</span>
                               throws <span class="exceptions">java.lang.IllegalArgumentException</span></div>
<div class="block">Throws an <tt>IllegalArgumentException</tt> if the given row number is not &ge; 1.
 If the row number is zero, the thrown exception details why row <tt>0</tt> is a bad
 argument.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rowNumber</code> - &ge; 1</dd>
<dt>Throws:</dt>
<dd><code>java.lang.IllegalArgumentException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="maxRows(long)">
<h3>maxRows</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="member-name">maxRows</span>&#8203;(<span class="parameters">long&nbsp;cells)</span></div>
<div class="block">Returns the maximum number of rows that can be fitted in a ledger with the given number
 of cells.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cells</code> - &ge; 0</dd>
<dt>Returns:</dt>
<dd>non-negative</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottom-nav" id="navbar.bottom">
<div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.bottom.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ProtoFlatLedger.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
<p class="legal-copy"><small>Copyright &#169; 2021. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
